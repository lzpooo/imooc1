package com.briup.mybatis.day_01;

import java.util.Date;

import org.apache.ibatis.session.SqlSession;
import org.junit.Test;

import com.briup.mybatis.mappers.StudentMapper;
import com.briup.mybatis.pojo.PhoneNumber;
import com.briup.mybatis.pojo.Student;
import com.briup.mybatis.utils.MyBatisSqlSessionFactory;

/**
 * 使用工厂类测试
 * @author LZP
 * 2017年9月7日
 */
public class StudentMapperTest1 {
	//测试自定义类型
	@Test
	public void insertPhone(){
		try {
			//获取sqlsession对象
			SqlSession sqlSession=MyBatisSqlSessionFactory.openSession(true);
			//获取接口的实现类对象
			StudentMapper mapper=sqlSession.getMapper(StudentMapper.class);
			PhoneNumber phone=new PhoneNumber("12323","4356","789");
			Student stu=new Student(5,"georasge","sajudfgas",new Date(),phone);
			mapper.insertStudent(stu);
		} catch (Exception e) {
			e.printStackTrace();
		}
		
		
		
	}
}
