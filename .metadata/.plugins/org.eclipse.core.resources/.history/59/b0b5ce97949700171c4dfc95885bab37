package com.briup.main;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.sql.Timestamp;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.briup.util.BIDR;

public class Test1 {
	@org.junit.Test
	public void Test() throws Exception{
		String[] s1=null;
		BIDR bidr=null;
		Map<String,Object> map=new HashMap<>();
		
		List<String> radwtmpList=new ArrayList<String>();
		FileReader reader=new FileReader("src/com/briup/file/radwtmp");
		BufferedReader br=new BufferedReader(reader);
		//#briup1660|037:wKgB1660A|7|1239110900|44.211.221.247
		while(br.readLine()!=null){
			radwtmpList.add(br.readLine());				
		}
		for(String str:radwtmpList){
			bidr=new BIDR();
			s1=str.split("|");
			String loginName=s1[0];//登录名
			String nasIp=s1[1];//NAS_ip
			String flag=s1[2];//七上八下
			String time=s1[3];//时间
			String IP=s1[4];//IP
			if(flag.equals("7")){
				Timestamp timeLogin = new Timestamp(Long.valueOf(time));
				bidr.setAAA_login_name(loginName);
				bidr.setNAS_ip(nasIp);
				bidr.setLogin_date(timeLogin);
				bidr.setLogin_ip(IP);
				if(!(map.containsKey(IP))){
					map.put(IP,bidr);
					
				}
			}
			else if(flag.equals("8")){
				
			}
			
		}
		
	}
}
